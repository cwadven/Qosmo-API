{% extends "admin/change_form.html" %}
{% load i18n admin_urls static admin_modify %}

{% block extrahead %}
{{ block.super }}
<script>
  document.addEventListener('DOMContentLoaded', function() {
    // 이미 선택된 값이 있다면 데이터 속성으로 저장
    {% if original %}
      {% if original.start_node_id %}
        document.getElementById('id_start_node').setAttribute('data-initial-value', '{{ original.start_node_id }}');
      {% endif %}
      
      {% if original.node_complete_rule_id %}
        document.getElementById('id_node_complete_rule').setAttribute('data-initial-value', '{{ original.node_complete_rule_id }}');
      {% endif %}
      
      {% if original.question_id %}
        document.getElementById('id_question').setAttribute('data-initial-value', '{{ original.question_id }}');
      {% endif %}
    {% endif %}
  });
</script>
{% endblock %} 